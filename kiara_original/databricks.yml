# This is the top-level metadata for the DAB
# The name of the bundle. run `databricks bundle schema` to see the full bundle settings schema.
bundle:
  # Do not modify the below line, this autogenerated field is used by the Databricks backend.
  uuid: 6aff12a7-89bb-46d6-ac76-d2e1c2e1fd72

  name: advanced-churn

variables:
  experiment_name:
    description: Experiment name for the model training.
    default: advanced-churn-experiment
  user_name:
    description: User running the code
    default: ${workspace.current_user.userName}
  model_name:
    description: Model name for the model training.
    default: advanced-churn-model
  catalog_name:
    description: The catalog name to save the trained model
  schema_name:
    description: the schema to save the data and model to
    default: koeppen_dabs_demo
  validating_model:
    description: the model we want to model validation on 
    default: challenger
    
include:
  # Resources folder contains ML artifact resources for the ML project that defines model and experiment
  # And workflows resources for the ML project including model training -> validation -> deployment,
  # feature engineering,  batch inference, quality monitoring, metric refresh, alerts and triggering retraining

  - ./resources/data_preparation.yml
#  - ./resources/ml-artifacts-resource.yml
  - ./resources/automl_baseline.yml
  - ./resources/custom_model.yml
  - ./resources/batch_inference.yml

# Deployment Target specific values for workspace
targets:
  dev:  # UC Catalog Name 
    mode: development
    default: true
    variables:
      catalog_name: dev
    workspace:
      # TODO: add dev workspace URL
      host: https://adb-984752964297111.11.azuredatabricks.net/

  staging:
    variables:
      catalog_name: staging
    workspace:
      host: https://adb-984752964297111.11.azuredatabricks.net/

  prod:
    variables:
      catalog_name: prod
    workspace:
      host: https://adb-984752964297111.11.azuredatabricks.net/

  test:
    variables:
      catalog_name: test
    workspace:
      host: https://adb-984752964297111.11.azuredatabricks.net/
